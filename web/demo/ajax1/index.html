<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>ajax 无刷新获取json数据</title>
<style>
.letters,.entry,.leftcon{ float:left;}
.letters{ width:250px;}
.entry{ width:700px; height:200px; border:1px solid #000;}
.button{ width:150px; height:30px; border:1px solid #000; text-align:center; line-height:30px; cursor:pointer;}
#leftcon{ width:800px; height:800px;}
</style>
</head>

<body>
<div id="dictionary">
	<div class="letters">
    	<div class="letter" id="letter-a">
        	<h3>A</h3>
            <div class="button">Load</div>
        </div>
    	<div class="letter" id="letter-b">
        	<h3>B</h3>
            <div class="button">Load</div>
        </div>
    	<div class="letter" id="letter-c">
        	<h3>C</h3>
            <div class="button">Load</div>
        </div>
    </div>
    <div id="leftcon" class="leftcon">nihao 
    </div>
</div>
<script type="text/javascript" src="../jquery-1.8.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
  $('#letter-a .button').click(function() {
    $('#leftcon').hide().load('a.html', function() {
      $(this).fadeIn();
    });
    return false;
  });
});

$(document).ready(function() {
  $('#letter-b .button').click(function() {
    $.getJSON('b.json', function(data) {
      $('#leftcon').empty();
      $.each(data, function(entryIndex, entry) {
        var html = '<div class="entry">';
        html += '<h3 class="term">' + entry['term'] + '</h3>';
        html += '<div class="part">' + entry['part'] + '</div>';
        html += '<div class="definition">';
        html += entry['definition'];
        if (entry['quote']) {
          html += '<div class="quote">';
          $.each(entry['quote'], function(lineIndex, line) {
            html += '<div class="quote-line">' + line + '</div>';
          });
          if (entry['author']) {
            html += '<div class="quote-author">' + entry['author'] + '</div>';
          }
          html += '</div>';
        }
        html += '</div>';
        html += '</div>';
        $('#leftcon').append(html);
      });
    });
    return false;
  });
});

$(document).ready(function() {
  $('#letter-c .button').click(function() {
    $.getScript('c.js');
    return false;
  });
});

$(document).ready(function() {
  $('<div id="loading">Loading...</div>')
    .insertBefore('#leftcon')
    .ajaxStart(function() {
      $(this).show();
    }).ajaxStop(function() {
      $(this).hide();
    });
});


</script>
</body>
</html>
